<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto Hub — CoinGecko style</title>
  <meta name="description" content="Независимый крипто-хаб на чистом HTML/CSS/JS с CoinGecko API и TradingView." />
  <link rel="preconnect" href="https://api.coingecko.com" />
  <link rel="dns-prefetch" href="https://api.coingecko.com" />
  <link rel="preconnect" href="https://s3.tradingview.com" />
  <link rel="dns-prefetch" href="https://s3.tradingview.com" />
  <link rel="stylesheet" href="assets/styles/core.css" />
  <link rel="stylesheet" href="assets/styles/theme.css" />
  <link rel="stylesheet" href="assets/styles/components.css" />
</head>
<body>
  <header class="header">
    <div class="nav container">
      <a href="#/" class="brand">
        <img src="assets/icons/logo.svg" alt="Logo" class="logo" />
        <div>
          <div class="brand-title">Crypto Hub</div>
          <div class="badge"><span>API:</span><span class="mono" id="apiStatus">…</span></div>
        </div>
      </a>
      <div id="toolbar" class="controls"></div>
    </div>
  </header>

  <main class="container">
    <div id="view"></div>
  </main>

  <footer class="container footer">
    <div class="flex">
      <span>Данные: CoinGecko</span>
      <span class="chip">Кэш: локально</span>
      <span class="chip">Виджеты: TradingView</span>
    </div>
    <div class="flex right">
      <a class="btn" href="#" id="refresh">Обновить</a>
      <a class="btn" href="https://www.coingecko.com/en/api" target="_blank" rel="noopener">API Docs</a>
    </div>
  </footer>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <div class="flex">
          <img id="modalIcon" src="" alt="" width="28" height="28" class="mod-icon" />
          <div>
            <div id="modalTitle" class="mod-title">Coin</div>
            <div id="modalSubtitle" class="chip">Symbol</div>
          </div>
        </div>
        <button id="closeModal" class="btn">Закрыть</button>
      </div>
      <div class="modal-body">
        <div class="modal-section">
          <div class="flex">
            <div class="chip">Цена</div>
            <div id="modalPrice" class="mono"></div>
            <div id="modalChange" class="mono"></div>
          </div>
          <div id="tvWidget" style="height:420px;margin-top:12px;"></div>
        </div>
        <div class="modal-section">
          <div class="flex" style="justify-content:space-between">
            <div class="chip">Детали</div>
            <button id="favToggle" class="btn">В избранное</button>
          </div>
          <div id="modalDetails" style="margin-top:8px;">
            <div class="flex"><span class="chip">Капитализация</span><span id="modalMC" class="mono"></span></div>
            <div class="flex"><span class="chip">Объём</span><span id="modalVol" class="mono"></span></div>
            <div class="flex"><span class="chip">Оборот</span><span id="modalSupply" class="mono"></span></div>
            <div class="flex"><span class="chip">Сайты</span><span id="modalLinks" class="mono"></span></div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button id="openOnCG" class="btn">Открыть на CoinGecko</button>
        <button id="openOnTV" class="btn">Открыть в TradingView</button>
      </div>
    </div>
  </div>

  <!-- TradingView library -->
  <script src="https://s3.tradingview.com/tv.js"></script>

  <!-- App scripts -->
  <script src="assets/scripts/utils/format.js"></script>
  <script src="assets/scripts/utils/cache.js"></script>
  <script src="assets/scripts/utils/dom.js"></script>
  <script src="assets/scripts/i18n.js"></script>
  <script src="assets/scripts/api/throttler.js"></script>
  <script src="assets/scripts/api/coingecko.js"></script>
  <script src="assets/scripts/widgets/tv.js"></script>
  <script src="assets/scripts/components/pagination.js"></script>
  <script src="assets/scripts/components/grid.js"></script>
  <script src="assets/scripts/components/coin-modal.js"></script>
  <script src="assets/scripts/components/toolbar.js"></script>
  <script src="assets/scripts/router.js"></script>
  <script src="assets/scripts/app.js"></script>
</body>
</html>
